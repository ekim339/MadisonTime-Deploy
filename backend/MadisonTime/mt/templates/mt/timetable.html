{% extends "mt_base/base_no_search.html" %} 
{% load static %}
{% load widget_tweaks %}

{% block css %}
  {{ block.super }}
  <link rel="stylesheet" href={% static "mt/css/timetable.css" %} />
{% endblock css %}



{% comment %} 
<!DOCTYPE html>
 <html lang="en">
  <head>
    <link rel="stylesheet" href="{% static 'mt/css/timetable.css' %}" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css"
        integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay"
        crossorigin="anonymous"
    />
    <link
        href="https://fonts.googleapis.com/css?family=Josefin+Sans:300,400,600,700&display=swap"
        rel="stylesheet"
    />
    <script
            src="https://kit.fontawesome.com/ed63704ebd.js"
            crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <!-- feeds page -->
    <section class="content-wrapper">
      <!-- <header class="title">Madison Time</header> -->
      <!-- left -->
      <div class="left">
        <div class="left-content">
          <div class="left-content-heading home">
            <a href="{% url 'home' %}" class="buttons">
              <button type="button" class="home-button">
                  <i class="fa-solid fa-house"></i>Home
              </button>
            </a>
          </div>
          <div class="left-content-heading schedule">
              <a href="{% url 'timetable' %}"  class="buttons">
                <button type="button" class="schedule-button">
                    <i class="fa-solid fa-calendar-days"></i>Schedule
                </button>
              </a>
          </div>
          <div class="left-content-heading profile">
              <button type="button" class="profile-button"><i class="fa-solid fa-user"></i>Profile</button>
          </div>
          <div class="left-content-heading settings">
              <button type="button" class="settings-button"><i class="fas fa-gear"></i>Settings</button>
          </div>
        </div>
      </div>
      <!-- end of left -->  {% endcomment %}

      {% block content %}
      <!-- default display -->
      <div class="content">
        <h1 class="timetable-header">My Timetable</h1>
        <div class="timetable">
          <div class="days">
            <h3 class="weekdays">Mon</h3>
            <h3 class="weekdays">Tue</h3>
            <h3 class="weekdays">Wed</h3>
            <h3 class="weekdays">Thu</h3>
            <h3 class="weekdays">Fri</h3>
            <h3 class="weekends">Sat</h3>
            <h3 class="weekends">Sun</h3>
          </div>
          <div class="timeline">
            <div class="time-slot">6:00 AM</div>
            <div class="time-slot">7:00 AM</div>
            <div class="time-slot">8:00 AM</div>
            <div class="time-slot">9:00 AM</div>
            <div class="time-slot">10:00 AM</div>
            <div class="time-slot">11:00 AM</div>
            <div class="time-slot">12:00 PM</div>
            <div class="time-slot">1:00 PM</div>
            <div class="time-slot">2:00 PM</div>
            <div class="time-slot">3:00 PM</div>
            <div class="time-slot">4:00 PM</div>
            <div class="time-slot">5:00 PM</div>
            <div class="time-slot">6:00 PM</div>
            <div class="time-slot">7:00 PM</div>
            <div class="time-slot">8:00 PM</div>
            <div class="time-slot">9:00 PM</div>
            <div class="time-slot">10:00 PM</div>
            <div class="time-slot">11:00 PM</div>
            <div class="time-slot">12:00 AM</div>
          </div>
          <div class="display-courses">
            <div class="display monday">
              <div class="courses mon">
              {% if courses %}
                {% for course in courses %}
                  {% if course.mon %}
                    <div class="course" style="background-color:{{course.color}};height:{{course.height}}%;top:{{course.position}}%;">{{ course.name }}<br>{{course.time_from}}-{{course.time_to}}</div>
                  {% endif %}
                {% endfor %}
              {% endif %}
              </div>
            </div>
            <div class="display tuesday">
              <div class="courses tue">
                {% if courses %}
                  {% for course in courses %}
                    {% if course.tue %}
                      <div class="course" style="background-color:{{course.color}};height:{{course.height}}%;top:{{course.position}}%;">{{ course.name }}<br>{{course.time_from}}-{{course.time_to}}</div>
                    {% endif %}
                  {% endfor %}
                {% endif %}
              </div>
            </div>
            <div class="display wednesday">
              <div class="courses wed">
                {% if courses %}
                  {% for course in courses %}
                    {% if course.wed %}
                      <div class="course" style="background-color:{{course.color}};height:{{course.height}}%;top:{{course.position}}%;">{{ course.name }}<br>{{course.time_from}}-{{course.time_to}}</div>
                    {% endif %}
                  {% endfor %}
                {% endif %}
              </div>
            </div>
            <div class="display thursday">
              <div class="courses thu">
                {% if courses %}
                  {% for course in courses %}
                    {% if course.thu %}
                      <div class="course" style="background-color:{{course.color}};height:{{course.height}}%;top:{{course.position}}%;">{{ course.name }}<br>{{course.time_from}}-{{course.time_to}}</div>
                    {% endif %}
                  {% endfor %}
                {% endif %}
              </div>
            </div>
            <div class="display friday">
              <div class="courses fri">
                {% if courses %}
                  {% for course in courses %}
                    {% if course.fri %}
                      <div class="course" style="background-color:{{course.color}};height:{{course.height}}%;top:{{course.position}}%;">{{ course.name }}<br>{{course.time_from}}-{{course.time_to}}</div>
                    {% endif %}
                  {% endfor %}
                {% endif %}
              </div>
            </div>
            <div class="display saturday">
              <div class="courses sat">
                {% if courses %}
                  {% for course in courses %}
                    {% if course.sat %}
                      <div class="course" style="background-color:{{course.color}};height:{{course.height}}%;top:{{course.position}}%;">{{ course.name }}<br>{{course.time_from}}-{{course.time_to}}</div>
                    {% endif %}
                  {% endfor %}
                {% endif %}
              </div>
            </div>
            <div class="display sunday">
              <div class="courses sun">
                {% if courses %}
                  {% for course in courses %}
                    {% if course.sun %}
                      <div class="course" style="background-color:{{course.color}};height:{{course.height}}%;top:{{course.position}}%;">{{ course.name }}<br>{{course.time_from}}-{{course.time_to}}</div>
                    {% endif %}
                  {% endfor %}
                {% endif %}
              </div>
            </div>
          </div>
        </div>
        <button type="button" class="add-course-btn">+ Course</button>
      </div>
      <!-- end of default display -->
    </section>
    <!-- end of feeds page -->

    <!-- add course modal -->
      <div class="modal-wrapper" id="modal-wrapper" {% if modal_open %}modal-wrapper-display{% endif %}>
        <div class="modal">
          <div class="modal-header">
            <h3 class="modal-title">Add a Course</h3>
            <i class="fas fa-times"></i>
          </div>
          <form method="POST">
            {% csrf_token %}
            <div class="input-wrapper">
              <div class="course-name">Course Name</div>
              {{form.name|add_class:"course-name-input"}}
              {% for error in form.name.errors %}
                <div class="error-message">{{error}}</div>
              {% endfor %}
              <div class="location">Location</div>
              {{form.location|add_class:"location-input"}}
              {% for error in form.location.errors %}
                <div class="error-message">{{error}}</div>
              {% endfor %}
              <div class="from">From</div>
              {{form.time_from|add_class:"from-input"}}
              {% for error in form.time_from.errors %}
                <div class="error-message">{{error}}</div>
              {% endfor %}
              <div class="to">To</div>
              {{form.time_to|add_class:"to-input"}}
              {% for error in form.time_to.errors %}
                <div class="error-message">{{error}}</div>
              {% endfor %}
              <div class="color">Select color for this course</div>
              <input type="color" name="color" value="#ff0000" class="course-color">
              {% for error in form.color.errors %}
                <div class="error-message">{{error}}</div>
              {% endfor %}
            </div>
            <button type="submit" class="add">Add</button>
            {% comment %} {% if error_message %}
                <div class="error-message">
                    {% for field, messages in error_message.items %}
                        <strong>{{ field }}:</strong>
                        {% for message in messages %}
                            <p>{{ message }}</p>
                        {% endfor %}
                    {% endfor %}
                </div>
            {% endif %} {% endcomment %}
            <div class="days-text">Select days</div>
            <div class="days-button-wrapper">
              <input type="hidden" name="mon" id="mon" value="{{ course.mon }}">
              <button type="button" class="days-button m-button">M</button>
              <input type="hidden" name="tue" id="tue" value="{{ course.tue }}">
              <button type="button" class="days-button t-button">T</button>
              <input type="hidden" name="wed" id="wed" value="{{ course.wed }}">
              <button type="button" class="days-button w-button">W</button>
              <input type="hidden" name="thu" id="thu" value="{{ course.thu }}">
              <button type="button" class="days-button th-button">Th</button>
              <input type="hidden" name="fri" id="fri" value="{{ course.fri }}">
              <button type="button" class="days-button f-button">F</button>
              <input type="hidden" name="sat" id="sat" value="{{ course.sat }}">
              <button type="button" class="days-button s-button">S</button>
              <input type="hidden" name="sun" id="sun" value="{{ course.sun }}">
              <button type="button" class="days-button su-button">Su</button>
            </div>
          </form>
        </div>
        
        {% comment %} <script>
          $(document).ready(function() {
            {% if form.errors %}
            $("#modal-wrapper").modal("show");
            {% endif %}
          });
        </script>  {% endcomment %}
      </div>
    <!-- end of add course modal -->
    <script src="{% static 'mt/js/timetable.js' %}"></script>
    {% endblock content %}
    {% comment %} <script
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-KyZXEAg3QhqLMpG8r+8fhAXLRKfsN3RzT4zPbpXQWIc="
    crossorigin="anonymous"></script> {% endcomment %}
    {% comment %} <script
    src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
    crossorigin="anonymous"></script> {% endcomment %}
  </body>
</html> 